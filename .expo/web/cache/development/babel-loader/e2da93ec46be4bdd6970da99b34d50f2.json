{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Label from \"../compnents/label\";\nimport Screen from \"../compnents/Screen\";\nimport UserListItem from \"../compnents/UserListItem\";\nimport UserSearch from \"./UserSearch\";\nimport axios from \"axios\";\nimport Url from \"../Authorization/ApiUrlEndpoints\";\nimport Token from \"../Authorization/JwtToken\";\nimport get_challans, { set_challans } from \"../ServerResponseData/Challans\";\nimport { Color } from \"../assets/colors\";\n\nfunction UserChallanList(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      dat = _useState2[0],\n      setDat = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      search = _useState4[0],\n      setSearch = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      message = _useState6[0],\n      setMessage = _useState6[1];\n\n  var get_challanData = function get_challanData() {\n    var _await$axios$get$catc, data;\n\n    return _regeneratorRuntime.async(function get_challanData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(Url + \"/challans/allchallans/\", {\n              headers: {\n                Authorization: \"JWT\" + Token.refresh\n              }\n            }).catch(function (error) {\n              return console.log(error);\n            }));\n\n          case 2:\n            _await$axios$get$catc = _context.sent;\n            data = _await$axios$get$catc.data;\n            set_challans(data);\n            console.log(data);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useFocusEffect(useCallback(function () {\n    get_challanData();\n  }, []));\n\n  var handleSearch = function handleSearch() {\n    var challans = get_challans();\n    var filter_challan = challans.filter(function (x) {\n      return x.vehicle_number == search;\n    });\n\n    if (filter_challan.length >= 1) {\n      setDat(filter_challan);\n    } else {\n      setMessage(\"Not Found\");\n      setDat(null);\n      setTimeout(function () {\n        setMessage(null);\n      }, 1500);\n    }\n  };\n\n  return React.createElement(Screen, {\n    style: {\n      padding: 10,\n      backgroundColor: Color.DuoBlack,\n      marginTop: 0\n    }\n  }, React.createElement(UserSearch, {\n    Search: function Search(t) {\n      return setSearch(t);\n    },\n    handleSearch: handleSearch\n  }), React.createElement(Label, {\n    value: \"Related Challans\",\n    style: styles.label1\n  }), dat == null ? React.createElement(View, null, React.createElement(Text, {\n    style: {\n      color: \"red\"\n    }\n  }, !search.length >= 1 ? \"Enter a Valid Search Value\" : message)) : React.createElement(FlatList, {\n    showsVerticalScrollIndicator: true,\n    style: {\n      width: \"100%\"\n    },\n    data: dat,\n    keyExtractor: function keyExtractor(item) {\n      return item.challan_id;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(UserListItem, {\n        ch_Number: item.challan_id,\n        number: item.vehicle_number,\n        stetus: item.challan_status,\n        type: item.vehicle_type,\n        price: item.challan_amount,\n        location: item.challan_location,\n        violation: item.violation_type,\n        time: item.challan_time\n      });\n    },\n    ItemSeparatorComponent: function ItemSeparatorComponent() {\n      return React.createElement(View, {\n        style: {\n          height: 5\n        }\n      });\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  label1: {\n    color: \"white\",\n    marginTop: 5,\n    elevation: 0,\n    backgroundColor: Color.DuoBackGray,\n    borderRadius: 5,\n    fontWeight: \"bold\",\n    paddingLeft: 120\n  }\n});\nexport default UserChallanList;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useFocusEffect","Label","Screen","UserListItem","UserSearch","axios","Url","Token","get_challans","set_challans","Color","UserChallanList","props","dat","setDat","search","setSearch","message","setMessage","get_challanData","get","headers","Authorization","refresh","catch","error","console","log","data","handleSearch","challans","filter_challan","filter","x","vehicle_number","length","setTimeout","padding","backgroundColor","DuoBlack","marginTop","t","styles","label1","color","width","item","challan_id","challan_status","vehicle_type","challan_amount","challan_location","violation_type","challan_time","height","StyleSheet","create","elevation","DuoBackGray","borderRadius","fontWeight","paddingLeft"],"sources":["C:/Users/sulai/Desktop/fyp/FYP/aut_Veh_num_det/Auto_Veh_front_end/app/UserScreenComponents/UserChallanList.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\nimport { StyleSheet, FlatList, View, Text } from \"react-native\";\r\nimport Label from \"../compnents/label\";\r\nimport Screen from \"../compnents/Screen\";\r\nimport UserListItem from \"../compnents/UserListItem\";\r\nimport UserSearch from \"./UserSearch\";\r\nimport axios from \"axios\";\r\nimport Url from \"../Authorization/ApiUrlEndpoints\";\r\nimport Token from \"../Authorization/JwtToken\";\r\nimport get_challans, { set_challans } from \"../ServerResponseData/Challans\";\r\nimport { Color } from \"../assets/colors\";\r\n\r\nfunction UserChallanList(props) {\r\n  const [dat, setDat] = useState();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [message, setMessage] = useState();\r\n  const get_challanData = async () => {\r\n    const { data } = await axios\r\n      .get(Url + \"/challans/allchallans/\", {\r\n        headers: { Authorization: \"JWT\" + Token.refresh },\r\n      })\r\n      .catch((error) => console.log(error));\r\n    set_challans(data);\r\n    console.log(data);\r\n  };\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      get_challanData();\r\n    }, [])\r\n  );\r\n\r\n  const handleSearch = () => {\r\n    const challans = get_challans();\r\n    const filter_challan = challans.filter((x) => x.vehicle_number == search);\r\n    if (filter_challan.length >= 1) {\r\n      setDat(filter_challan);\r\n    } else {\r\n      setMessage(\"Not Found\");\r\n      setDat(null);\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 1500);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Screen\r\n      style={{ padding: 10, backgroundColor: Color.DuoBlack, marginTop: 0 }}\r\n    >\r\n      <UserSearch Search={(t) => setSearch(t)} handleSearch={handleSearch} />\r\n      <Label value=\"Related Challans\" style={styles.label1} />\r\n      {dat == null ? (\r\n        <View>\r\n          <Text style={{ color: \"red\" }}>\r\n            {!search.length >= 1 ? \"Enter a Valid Search Value\" : message}\r\n          </Text>\r\n        </View>\r\n      ) : (\r\n        <FlatList\r\n          showsVerticalScrollIndicator\r\n          style={{ width: \"100%\" }}\r\n          data={dat}\r\n          keyExtractor={(item) => item.challan_id}\r\n          renderItem={({ item }) => (\r\n            <UserListItem\r\n              ch_Number={item.challan_id}\r\n              number={item.vehicle_number}\r\n              stetus={item.challan_status}\r\n              type={item.vehicle_type}\r\n              price={item.challan_amount}\r\n              location={item.challan_location}\r\n              violation={item.violation_type}\r\n              time={item.challan_time}\r\n            />\r\n          )}\r\n          ItemSeparatorComponent={() => <View style={{ height: 5 }}></View>}\r\n        />\r\n      )}\r\n    </Screen>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  label1: {\r\n    color: \"white\",\r\n    marginTop: 5,\r\n    elevation: 0,\r\n    backgroundColor: Color.DuoBackGray,\r\n    borderRadius: 5,\r\n    fontWeight: \"bold\",\r\n    paddingLeft: 120,\r\n  },\r\n});\r\nexport default UserChallanList;\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,cAAT,QAA+B,0BAA/B;;;;;AAEA,OAAOC,KAAP;AACA,OAAOC,MAAP;AACA,OAAOC,YAAP;AACA,OAAOC,UAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP;AACA,OAAOC,KAAP;AACA,OAAOC,YAAP,IAAuBC,YAAvB;AACA,SAASC,KAAT;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;EAC9B,gBAAsBb,QAAQ,EAA9B;EAAA;EAAA,IAAOc,GAAP;EAAA,IAAYC,MAAZ;;EACA,iBAA4Bf,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOgB,MAAP;EAAA,IAAeC,SAAf;;EACA,iBAA8BjB,QAAQ,EAAtC;EAAA;EAAA,IAAOkB,OAAP;EAAA,IAAgBC,UAAhB;;EACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACCd,KAAK,CACzBe,GADoB,CAChBd,GAAG,GAAG,wBADU,EACgB;cACnCe,OAAO,EAAE;gBAAEC,aAAa,EAAE,QAAQf,KAAK,CAACgB;cAA/B;YAD0B,CADhB,EAIpBC,KAJoB,CAId,UAACC,KAAD;cAAA,OAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX;YAAA,CAJc,CADD;;UAAA;YAAA;YACdG,IADc,yBACdA,IADc;YAMtBnB,YAAY,CAACmB,IAAD,CAAZ;YACAF,OAAO,CAACC,GAAR,CAAYC,IAAZ;;UAPsB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAxB;;EASA5B,cAAc,CACZH,WAAW,CAAC,YAAM;IAChBsB,eAAe;EAChB,CAFU,EAER,EAFQ,CADC,CAAd;;EAMA,IAAMU,YAAY,GAAG,SAAfA,YAAe,GAAM;IACzB,IAAMC,QAAQ,GAAGtB,YAAY,EAA7B;IACA,IAAMuB,cAAc,GAAGD,QAAQ,CAACE,MAAT,CAAgB,UAACC,CAAD;MAAA,OAAOA,CAAC,CAACC,cAAF,IAAoBnB,MAA3B;IAAA,CAAhB,CAAvB;;IACA,IAAIgB,cAAc,CAACI,MAAf,IAAyB,CAA7B,EAAgC;MAC9BrB,MAAM,CAACiB,cAAD,CAAN;IACD,CAFD,MAEO;MACLb,UAAU,CAAC,WAAD,CAAV;MACAJ,MAAM,CAAC,IAAD,CAAN;MACAsB,UAAU,CAAC,YAAM;QACflB,UAAU,CAAC,IAAD,CAAV;MACD,CAFS,EAEP,IAFO,CAAV;IAGD;EACF,CAZD;;EAcA,OACE,oBAAC,MAAD;IACE,KAAK,EAAE;MAAEmB,OAAO,EAAE,EAAX;MAAeC,eAAe,EAAE5B,KAAK,CAAC6B,QAAtC;MAAgDC,SAAS,EAAE;IAA3D;EADT,GAGE,oBAAC,UAAD;IAAY,MAAM,EAAE,gBAACC,CAAD;MAAA,OAAOzB,SAAS,CAACyB,CAAD,CAAhB;IAAA,CAApB;IAAyC,YAAY,EAAEZ;EAAvD,EAHF,EAIE,oBAAC,KAAD;IAAO,KAAK,EAAC,kBAAb;IAAgC,KAAK,EAAEa,MAAM,CAACC;EAA9C,EAJF,EAKG9B,GAAG,IAAI,IAAP,GACC,oBAAC,IAAD,QACE,oBAAC,IAAD;IAAM,KAAK,EAAE;MAAE+B,KAAK,EAAE;IAAT;EAAb,GACG,CAAC7B,MAAM,CAACoB,MAAR,IAAkB,CAAlB,GAAsB,4BAAtB,GAAqDlB,OADxD,CADF,CADD,GAOC,oBAAC,QAAD;IACE,4BAA4B,MAD9B;IAEE,KAAK,EAAE;MAAE4B,KAAK,EAAE;IAAT,CAFT;IAGE,IAAI,EAAEhC,GAHR;IAIE,YAAY,EAAE,sBAACiC,IAAD;MAAA,OAAUA,IAAI,CAACC,UAAf;IAAA,CAJhB;IAKE,UAAU,EAAE;MAAA,IAAGD,IAAH,QAAGA,IAAH;MAAA,OACV,oBAAC,YAAD;QACE,SAAS,EAAEA,IAAI,CAACC,UADlB;QAEE,MAAM,EAAED,IAAI,CAACZ,cAFf;QAGE,MAAM,EAAEY,IAAI,CAACE,cAHf;QAIE,IAAI,EAAEF,IAAI,CAACG,YAJb;QAKE,KAAK,EAAEH,IAAI,CAACI,cALd;QAME,QAAQ,EAAEJ,IAAI,CAACK,gBANjB;QAOE,SAAS,EAAEL,IAAI,CAACM,cAPlB;QAQE,IAAI,EAAEN,IAAI,CAACO;MARb,EADU;IAAA,CALd;IAiBE,sBAAsB,EAAE;MAAA,OAAM,oBAAC,IAAD;QAAM,KAAK,EAAE;UAAEC,MAAM,EAAE;QAAV;MAAb,EAAN;IAAA;EAjB1B,EAZJ,CADF;AAmCD;;AAED,IAAMZ,MAAM,GAAGa,UAAU,CAACC,MAAX,CAAkB;EAC/Bb,MAAM,EAAE;IACNC,KAAK,EAAE,OADD;IAENJ,SAAS,EAAE,CAFL;IAGNiB,SAAS,EAAE,CAHL;IAINnB,eAAe,EAAE5B,KAAK,CAACgD,WAJjB;IAKNC,YAAY,EAAE,CALR;IAMNC,UAAU,EAAE,MANN;IAONC,WAAW,EAAE;EAPP;AADuB,CAAlB,CAAf;AAWA,eAAelD,eAAf"},"metadata":{},"sourceType":"module"}