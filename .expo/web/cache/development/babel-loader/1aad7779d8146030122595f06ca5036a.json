{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext } from \"react\";\nimport Label from \"../compnents/label\";\nimport Screen from \"../compnents/Screen\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport AppButton from \"../compnents/AppButton\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport Url from \"../Authorization/ApiUrlEndpoints\";\nimport axios from \"axios\";\nimport LottiView from \"lottie-react-native\";\nimport { Color } from \"../assets/colors\";\nimport UserListItem from \"../compnents/UserListItem\";\nimport AuthContext from \"../Authorization/Context\";\n\nfunction AdminVerification(_ref) {\n  var route = _ref.route;\n  var navigation = useNavigation();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visi = _useState2[0],\n      setvisi = _useState2[1];\n\n  var auth = useContext(AuthContext);\n  var _route$params$cha = route.params.cha,\n      vehicle_number = _route$params$cha.vehicle_number,\n      vehicle_type = _route$params$cha.vehicle_type,\n      vehicle_status = _route$params$cha.vehicle_status,\n      challan_amount = _route$params$cha.challan_amount,\n      vehicle_location = _route$params$cha.vehicle_location,\n      violation_type = _route$params$cha.violation_type;\n\n  var handleUpload = function handleUpload() {\n    var _await$axios$post$cat, data, d, year, months, day, item;\n\n    return _regeneratorRuntime.async(function handleUpload$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setvisi(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post(Url + \"/challans/allchallans/\", {\n              vehicle_number: vehicle_number,\n              vehicle_type: vehicle_type,\n              challan_amount: challan_amount,\n              challan_status: vehicle_status,\n              challan_location: vehicle_location,\n              violation_type: violation_type\n            }).catch(function (error) {\n              console.log(error);\n              setvisi(false);\n            }));\n\n          case 3:\n            _await$axios$post$cat = _context.sent;\n            data = _await$axios$post$cat.data;\n            d = new Date();\n            year = d.getFullYear();\n            months = d.getMonth();\n            day = d.getDate();\n            item = {\n              number: vehicle_number,\n              type: vehicle_type,\n              time: year + \"/\" + (months + 1) + \"/\" + day,\n              name: auth.user.name\n            };\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(axios.post(Url + \"/history/wardenhistory/\", item).catch(function (error) {\n              console.log(error);\n              alert(\"data upload failed\");\n            }));\n\n          case 12:\n            setTimeout(function () {\n              setvisi(false);\n              navigation.navigate(\"HOME\");\n            }, 3000);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Screen, {\n    style: {\n      backgroundColor: Color.DuoBlack,\n      marginTop: 0,\n      alignItems: \"center\"\n    }\n  }, React.createElement(Label, {\n    value: \"Challan Verification\",\n    style: styles.label1\n  }), React.createElement(View, {\n    style: {\n      width: \"100%\",\n      marginTop: 10\n    }\n  }, React.createElement(UserListItem, {\n    number: vehicle_number,\n    type: vehicle_type,\n    stetus: vehicle_status,\n    price: challan_amount,\n    location: vehicle_location,\n    violation: violation_type\n  })), React.createElement(View, {\n    style: styles.btn_view\n  }, React.createElement(AppButton, {\n    title: \"Go Back\",\n    style: styles.btn,\n    textStyle: styles.btn_txt,\n    height: 60,\n    width: 166,\n    onPress: function onPress() {\n      return navigation.goBack();\n    }\n  }), React.createElement(AppButton, {\n    title: \"Upload to Database\",\n    style: styles.btn,\n    textStyle: styles.btn_txt,\n    height: 60,\n    width: 166,\n    onPress: handleUpload\n  })), React.createElement(Modal, {\n    visible: visi\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      backgroundColor: Color.DuoBlack\n    }\n  }, React.createElement(LottiView, {\n    autoPlay: true,\n    loop: false,\n    source: require(\"../assets/anim/doneanim.json\")\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  btn: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    backgroundColor: Color.Duolightb\n  },\n  btn_view: {\n    width: \"100%\",\n    height: 100,\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  btn_txt: {\n    fontSize: 16,\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  label1: {\n    elevation: 5,\n    marginTop: 20,\n    fontSize: 17,\n    backgroundColor: Color.DuoBlack,\n    borderColor: Color.DuoGray,\n    borderWidth: 3,\n    borderRadius: 5,\n    width: \"80%\",\n    color: \"white\",\n    paddingLeft: 70\n  }\n});\nexport default AdminVerification;","map":{"version":3,"names":["React","useState","useContext","Label","Screen","AppButton","useNavigation","Url","axios","LottiView","Color","UserListItem","AuthContext","AdminVerification","route","navigation","visi","setvisi","auth","params","cha","vehicle_number","vehicle_type","vehicle_status","challan_amount","vehicle_location","violation_type","handleUpload","post","challan_status","challan_location","catch","error","console","log","data","d","Date","year","getFullYear","months","getMonth","day","getDate","item","number","type","time","name","user","alert","setTimeout","navigate","backgroundColor","DuoBlack","marginTop","alignItems","styles","label1","width","btn_view","btn","btn_txt","goBack","flex","justifyContent","require","StyleSheet","create","borderRadius","Duolightb","height","flexDirection","fontSize","color","fontWeight","elevation","borderColor","DuoGray","borderWidth","paddingLeft"],"sources":["C:/Users/sulai/Desktop/fyp/FYP/aut_Veh_num_det/Auto_Veh_front_end/app/AdminScreenComponents/AdminVerification.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport Label from \"../compnents/label\";\r\nimport Screen from \"../compnents/Screen\";\r\nimport { StyleSheet, View, Text, Modal } from \"react-native\";\r\nimport AppButton from \"../compnents/AppButton\";\r\nimport { useNavigation } from \"@react-navigation/core\";\r\nimport Url from \"../Authorization/ApiUrlEndpoints\";\r\nimport axios from \"axios\";\r\nimport LottiView from \"lottie-react-native\";\r\nimport { Color } from \"../assets/colors\";\r\nimport UserListItem from \"../compnents/UserListItem\";\r\n\r\nimport AuthContext from \"../Authorization/Context\";\r\n\r\nfunction AdminVerification({ route }) {\r\n  const navigation = useNavigation();\r\n  const [visi, setvisi] = useState(false);\r\n  const auth = useContext(AuthContext);\r\n\r\n  const {\r\n    vehicle_number,\r\n    vehicle_type,\r\n    vehicle_status,\r\n    challan_amount,\r\n    vehicle_location,\r\n    violation_type,\r\n  } = route.params.cha;\r\n\r\n  const handleUpload = async () => {\r\n    setvisi(true);\r\n    const { data } = await axios\r\n      .post(Url + \"/challans/allchallans/\", {\r\n        vehicle_number: vehicle_number,\r\n        vehicle_type: vehicle_type,\r\n        challan_amount: challan_amount,\r\n        challan_status: vehicle_status,\r\n        challan_location: vehicle_location,\r\n        violation_type: violation_type,\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setvisi(false);\r\n      });\r\n\r\n    const d = new Date();\r\n    const year = d.getFullYear();\r\n    const months = d.getMonth();\r\n    const day = d.getDate();\r\n    const item = {\r\n      number: vehicle_number,\r\n      type: vehicle_type,\r\n      time: `${year}/${months + 1}/${day}`,\r\n      name: auth.user.name,\r\n    };\r\n    // setHistory(items);\r\n    await axios.post(Url + \"/history/wardenhistory/\", item).catch((error) => {\r\n      console.log(error);\r\n      alert(\"data upload failed\");\r\n    });\r\n    setTimeout(() => {\r\n      setvisi(false);\r\n      navigation.navigate(\"HOME\");\r\n    }, 3000);\r\n  };\r\n  return (\r\n    <Screen\r\n      style={{\r\n        backgroundColor: Color.DuoBlack,\r\n        marginTop: 0,\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <Label value=\"Challan Verification\" style={styles.label1} />\r\n      <View style={{ width: \"100%\", marginTop: 10 }}>\r\n        <UserListItem\r\n          number={vehicle_number}\r\n          type={vehicle_type}\r\n          stetus={vehicle_status}\r\n          price={challan_amount}\r\n          location={vehicle_location}\r\n          violation={violation_type}\r\n        />\r\n      </View>\r\n      <View style={styles.btn_view}>\r\n        <AppButton\r\n          title=\"Go Back\"\r\n          style={styles.btn}\r\n          textStyle={styles.btn_txt}\r\n          height={60}\r\n          width={166}\r\n          onPress={() => navigation.goBack()}\r\n        />\r\n        <AppButton\r\n          title=\"Upload to Database\"\r\n          style={styles.btn}\r\n          textStyle={styles.btn_txt}\r\n          height={60}\r\n          width={166}\r\n          onPress={handleUpload}\r\n        />\r\n      </View>\r\n      <Modal visible={visi}>\r\n        <View\r\n          style={{\r\n            flex: 1,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: Color.DuoBlack,\r\n          }}\r\n        >\r\n          <LottiView\r\n            autoPlay\r\n            loop={false}\r\n            source={require(\"../assets/anim/doneanim.json\")}\r\n          />\r\n        </View>\r\n      </Modal>\r\n    </Screen>\r\n  );\r\n}\r\nconst styles = StyleSheet.create({\r\n  btn: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: Color.Duolightb,\r\n  },\r\n  btn_view: {\r\n    width: \"100%\",\r\n    height: 100,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    marginTop: 20,\r\n  },\r\n  btn_txt: {\r\n    fontSize: 16,\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  label1: {\r\n    elevation: 5,\r\n    marginTop: 20,\r\n    fontSize: 17,\r\n    backgroundColor: Color.DuoBlack,\r\n    borderColor: Color.DuoGray,\r\n    borderWidth: 3,\r\n    borderRadius: 5,\r\n    width: \"80%\",\r\n    color: \"white\",\r\n    paddingLeft: 70,\r\n  },\r\n});\r\n\r\nexport default AdminVerification;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}