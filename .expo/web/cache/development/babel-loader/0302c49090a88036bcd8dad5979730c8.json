{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { Easing } from \"./Easing\";\nimport { isColor, convertToHSVA, toRGBA } from \"./Colors\";\nimport NativeReanimated from \"./NativeReanimated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar IN_STYLE_UPDATER = false;\nexport function initialUpdaterRun(updater) {\n  IN_STYLE_UPDATER = true;\n  var result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\nexport function transform(value, handler) {\n  'worklet';\n\n  if (value === undefined) {\n    return undefined;\n  }\n\n  if (typeof value === 'string') {\n    var match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([A-Za-z%]*)/);\n    var prefix = match[1];\n    var suffix = match[3];\n    var number = match[2];\n    handler.__prefix = prefix;\n    handler.__suffix = suffix;\n    return parseFloat(number);\n  }\n\n  if (handler.__prefix === undefined) {\n    return value;\n  }\n\n  return handler.__prefix + value + handler.__suffix;\n}\nexport function transformAnimation(animation) {\n  'worklet';\n\n  if (!animation) {\n    return;\n  }\n\n  animation.toValue = transform(animation.toValue, animation);\n  animation.current = transform(animation.current, animation);\n  animation.startValue = transform(animation.startValue, animation);\n}\nexport function decorateAnimation(animation) {\n  'worklet';\n\n  if (animation.isHigherOrder) {\n    return;\n  }\n\n  var baseOnStart = animation.onStart;\n  var baseOnFrame = animation.onFrame;\n\n  var animationCopy = _extends({}, animation);\n\n  delete animationCopy.callback;\n\n  var prefNumberSuffOnStart = function prefNumberSuffOnStart(animation, value, timestamp, previousAnimation) {\n    var val = transform(value, animation);\n    transformAnimation(animation);\n    if (previousAnimation !== animation) transformAnimation(previousAnimation);\n    baseOnStart(animation, val, timestamp, previousAnimation);\n    transformAnimation(animation);\n    if (previousAnimation !== animation) transformAnimation(previousAnimation);\n  };\n\n  var prefNumberSuffOnFrame = function prefNumberSuffOnFrame(animation, timestamp) {\n    transformAnimation(animation);\n    var res = baseOnFrame(animation, timestamp);\n    transformAnimation(animation);\n    return res;\n  };\n\n  var tab = ['H', 'S', 'V', 'A'];\n\n  var colorOnStart = function colorOnStart(animation, value, timestamp, previousAnimation) {\n    var HSVAValue;\n    var HSVACurrent;\n    var HSVAToValue;\n    var res = [];\n\n    if (isColor(value)) {\n      HSVACurrent = convertToHSVA(animation.current);\n      HSVAValue = convertToHSVA(value);\n\n      if (animation.toValue) {\n        HSVAToValue = convertToHSVA(animation.toValue);\n      }\n    }\n\n    tab.forEach(function (i, index) {\n      animation[i] = _extends({}, animationCopy);\n      animation[i].current = HSVACurrent[index];\n      animation[i].toValue = HSVAToValue ? HSVAToValue[index] : undefined;\n      animation[i].onStart(animation[i], HSVAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n      res.push(animation[i].current);\n    });\n    animation.current = toRGBA(res);\n  };\n\n  var colorOnFrame = function colorOnFrame(animation, timestamp) {\n    var HSVACurrent = convertToHSVA(animation.current);\n    var res = [];\n    var finished = true;\n    tab.forEach(function (i, index) {\n      animation[i].current = HSVACurrent[index];\n      finished &= animation[i].onFrame(animation[i], timestamp);\n      res.push(animation[i].current);\n    });\n    animation.current = toRGBA(res);\n    return finished;\n  };\n\n  animation.onStart = function (animation, value, timestamp, previousAnimation) {\n    if (isColor(value)) {\n      colorOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = colorOnFrame;\n      return;\n    } else if (typeof value === 'string') {\n      prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = prefNumberSuffOnFrame;\n      return;\n    }\n\n    baseOnStart(animation, value, timestamp, previousAnimation);\n  };\n}\nexport function defineAnimation(starting, factory) {\n  'worklet';\n\n  if (IN_STYLE_UPDATER) {\n    return starting;\n  }\n\n  var create = function create() {\n    'worklet';\n\n    var animation = factory();\n    decorateAnimation(animation);\n    return animation;\n  };\n\n  if (_WORKLET || !NativeReanimated.native) {\n    return create();\n  }\n\n  return create;\n}\nexport function cancelAnimation(sharedValue) {\n  'worklet';\n\n  sharedValue.value = sharedValue.value;\n}\nexport function withTiming(toValue, userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(toValue, function () {\n    'worklet';\n\n    var config = {\n      duration: 300,\n      easing: Easing.inOut(Easing.quad)\n    };\n\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n\n    function timing(animation, now) {\n      var toValue = animation.toValue,\n          progress = animation.progress,\n          startTime = animation.startTime,\n          current = animation.current;\n      var runtime = now - startTime;\n\n      if (runtime >= config.duration) {\n        animation.startTime = 0;\n        animation.current = toValue;\n        return true;\n      }\n\n      var newProgress = config.easing(runtime / config.duration);\n      var dist = (toValue - current) * (newProgress - progress) / (1 - progress);\n      animation.current += dist;\n      animation.progress = newProgress;\n      return false;\n    }\n\n    function onStart(animation, value, now, previousAnimation) {\n      if (previousAnimation && previousAnimation.type === 'timing' && previousAnimation.toValue === toValue && previousAnimation.startTime) {\n        animation.startTime = previousAnimation.startTime;\n        animation.progress = previousAnimation.progress;\n      } else {\n        animation.startTime = now;\n        animation.progress = 0;\n      }\n\n      animation.current = value;\n    }\n\n    return {\n      type: 'timing',\n      onFrame: timing,\n      onStart: onStart,\n      progress: 0,\n      toValue: toValue,\n      current: toValue,\n      callback: callback\n    };\n  });\n}\nexport function withSpring(toValue, userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(toValue, function () {\n    'worklet';\n\n    var config = {\n      damping: 10,\n      mass: 1,\n      stiffness: 100,\n      overshootClamping: false,\n      restDisplacementThreshold: 0.01,\n      restSpeedThreshold: 2\n    };\n\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n\n    function spring(animation, now) {\n      var toValue = animation.toValue,\n          lastTimestamp = animation.lastTimestamp,\n          current = animation.current,\n          velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      animation.lastTimestamp = now;\n      var c = config.damping;\n      var m = config.mass;\n      var k = config.stiffness;\n      var v0 = -velocity;\n      var x0 = toValue - current;\n      var zeta = c / (2 * Math.sqrt(k * m));\n      var omega0 = Math.sqrt(k / m);\n      var omega1 = omega0 * Math.sqrt(1 - Math.pow(zeta, 2));\n      var t = deltaTime / 1000;\n      var sin1 = Math.sin(omega1 * t);\n      var cos1 = Math.cos(omega1 * t);\n      var underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n      var underDampedFrag1 = underDampedEnvelope * (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n      var underDampedPosition = toValue - underDampedFrag1;\n      var underDampedVelocity = zeta * omega0 * underDampedFrag1 - underDampedEnvelope * (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n      var criticallyDampedEnvelope = Math.exp(-omega0 * t);\n      var criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n      var criticallyDampedVelocity = criticallyDampedEnvelope * (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n\n      var isOvershooting = function isOvershooting() {\n        if (config.overshootClamping && config.stiffness !== 0) {\n          return current < toValue ? animation.current > toValue : animation.current < toValue;\n        } else {\n          return false;\n        }\n      };\n\n      var isVelocity = Math.abs(velocity) < config.restSpeedThreshold;\n      var isDisplacement = config.stiffness === 0 || Math.abs(toValue - current) < config.restDisplacementThreshold;\n\n      if (zeta < 1) {\n        animation.current = underDampedPosition;\n        animation.velocity = underDampedVelocity;\n      } else {\n        animation.current = criticallyDampedPosition;\n        animation.velocity = criticallyDampedVelocity;\n      }\n\n      if (isOvershooting() || isVelocity && isDisplacement) {\n        if (config.stiffness !== 0) {\n          animation.velocity = 0;\n          animation.current = toValue;\n        }\n\n        return true;\n      }\n    }\n\n    function onStart(animation, value, now, previousAnimation) {\n      animation.current = value;\n\n      if (previousAnimation) {\n        animation.velocity = previousAnimation.velocity || animation.velocity || 0;\n        animation.lastTimestamp = previousAnimation.lastTimestamp || now;\n      } else {\n        animation.lastTimestamp = now;\n      }\n    }\n\n    return {\n      onFrame: spring,\n      onStart: onStart,\n      toValue: toValue,\n      velocity: config.velocity || 0,\n      current: toValue,\n      callback: callback\n    };\n  });\n}\nexport function withDecay(userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(0, function () {\n    'worklet';\n\n    var config = {\n      deceleration: 0.998,\n      velocityFactor: Platform.OS !== 'web' ? 1 : 1000\n    };\n\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n\n    var VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n    var SLOPE_FACTOR = 0.1;\n\n    function decay(animation, now) {\n      var lastTimestamp = animation.lastTimestamp,\n          startTimestamp = animation.startTimestamp,\n          initialVelocity = animation.initialVelocity,\n          current = animation.current,\n          velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n      animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n      animation.velocity = v;\n      animation.lastTimestamp = now;\n\n      if (config.clamp) {\n        if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n          animation.current = config.clamp[0];\n          return true;\n        } else if (initialVelocity > 0 && animation.current >= config.clamp[1]) {\n          animation.current = config.clamp[1];\n          return true;\n        }\n      }\n\n      if (Math.abs(v) < VELOCITY_EPS) {\n        return true;\n      }\n    }\n\n    function validateConfig() {\n      if (config.clamp) {\n        if (Array.isArray(config.clamp)) {\n          if (config.clamp.length !== 2) {\n            console.error(\"clamp array must contain 2 items but is given \" + config.clamp.length);\n          }\n        } else {\n          console.error(\"config.clamp must be an array but is \" + typeof config.clamp);\n        }\n      }\n\n      if (config.velocityFactor <= 0) {\n        console.error(\"config.velocityFactor must be greather then 0 but is \" + config.velocityFactor);\n      }\n    }\n\n    function onStart(animation, value, now) {\n      animation.current = value;\n      animation.lastTimestamp = now;\n      animation.startTimestamp = now;\n      animation.initialVelocity = config.velocity;\n      validateConfig();\n    }\n\n    return {\n      onFrame: decay,\n      onStart: onStart,\n      velocity: config.velocity || 0,\n      callback: callback\n    };\n  });\n}\nexport function withDelay(delayMs, _nextAnimation) {\n  'worklet';\n\n  return defineAnimation(_nextAnimation, function () {\n    'worklet';\n\n    var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n\n    function delay(animation, now) {\n      var startTime = animation.startTime,\n          started = animation.started,\n          previousAnimation = animation.previousAnimation;\n\n      if (now - startTime > delayMs) {\n        if (!started) {\n          nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n          animation.previousAnimation = null;\n          animation.started = true;\n        }\n\n        var finished = nextAnimation.onFrame(nextAnimation, now);\n        animation.current = nextAnimation.current;\n        return finished;\n      } else if (previousAnimation) {\n        var _finished = previousAnimation.onFrame(previousAnimation, now);\n\n        animation.current = previousAnimation.current;\n\n        if (_finished) {\n          animation.previousAnimation = null;\n        }\n      }\n\n      return false;\n    }\n\n    function onStart(animation, value, now, previousAnimation) {\n      animation.startTime = now;\n      animation.started = false;\n      animation.current = value;\n      animation.previousAnimation = previousAnimation;\n    }\n\n    var callback = function callback(finished) {\n      if (nextAnimation.callback) {\n        nextAnimation.callback(finished);\n      }\n    };\n\n    return {\n      isHigherOrder: true,\n      onFrame: delay,\n      onStart: onStart,\n      current: nextAnimation.current,\n      callback: callback\n    };\n  });\n}\nexport function withSequence() {\n  'worklet';\n\n  for (var _len = arguments.length, _animations = new Array(_len), _key = 0; _key < _len; _key++) {\n    _animations[_key] = arguments[_key];\n  }\n\n  return defineAnimation(_animations[0], function () {\n    'worklet';\n\n    var animations = _animations.map(function (a) {\n      var result = typeof a === 'function' ? a() : a;\n      result.finished = false;\n      return result;\n    });\n\n    var firstAnimation = animations[0];\n\n    var callback = function callback(finished) {\n      if (finished) {\n        return;\n      }\n\n      animations.forEach(function (animation) {\n        if (typeof animation.callback === 'function' && !animation.finished) {\n          animation.callback(finished);\n        }\n      });\n    };\n\n    function sequence(animation, now) {\n      var currentAnim = animations[animation.animationIndex];\n      var finished = currentAnim.onFrame(currentAnim, now);\n      animation.current = currentAnim.current;\n\n      if (finished) {\n        if (currentAnim.callback) {\n          currentAnim.callback(true);\n        }\n\n        currentAnim.finished = true;\n        animation.animationIndex += 1;\n\n        if (animation.animationIndex < animations.length) {\n          var nextAnim = animations[animation.animationIndex];\n          nextAnim.onStart(nextAnim, currentAnim.current, now, currentAnim);\n          return false;\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n\n    function onStart(animation, value, now, previousAnimation) {\n      if (animations.length === 1) {\n        throw Error('withSequence() animation require more than one animation as argument');\n      }\n\n      animation.animationIndex = 0;\n\n      if (previousAnimation === undefined) {\n        previousAnimation = animations[animations.length - 1];\n      }\n\n      firstAnimation.onStart(firstAnimation, value, now, previousAnimation);\n    }\n\n    return {\n      isHigherOrder: true,\n      onFrame: sequence,\n      onStart: onStart,\n      animationIndex: 0,\n      current: firstAnimation.current,\n      callback: callback\n    };\n  });\n}\nexport function withRepeat(_nextAnimation) {\n  'worklet';\n\n  var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var callback = arguments.length > 3 ? arguments[3] : undefined;\n  return defineAnimation(_nextAnimation, function () {\n    'worklet';\n\n    var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n\n    function repeat(animation, now) {\n      var finished = nextAnimation.onFrame(nextAnimation, now);\n      animation.current = nextAnimation.current;\n\n      if (finished) {\n        animation.reps += 1;\n\n        if (nextAnimation.callback) {\n          nextAnimation.callback(true, animation.current);\n        }\n\n        if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n          return true;\n        }\n\n        var startValue = reverse ? nextAnimation.current : animation.startValue;\n\n        if (reverse) {\n          nextAnimation.toValue = animation.startValue;\n          animation.startValue = startValue;\n        }\n\n        nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n        return false;\n      }\n\n      return false;\n    }\n\n    var repCallback = function repCallback(finished) {\n      if (callback) {\n        callback(finished);\n      }\n\n      if (!finished && nextAnimation.callback) {\n        nextAnimation.callback(false);\n      }\n    };\n\n    function onStart(animation, value, now, previousAnimation) {\n      animation.startValue = value;\n      animation.reps = 0;\n      nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n    }\n\n    return {\n      isHigherOrder: true,\n      onFrame: repeat,\n      onStart: onStart,\n      reps: 0,\n      current: nextAnimation.current,\n      callback: repCallback\n    };\n  });\n}\nexport function delay(delayMs, _nextAnimation) {\n  'worklet';\n\n  console.warn('Method `delay` is deprecated. Please use `withDelay` instead');\n  return withDelay(delayMs, _nextAnimation);\n}\nexport function repeat(_nextAnimation) {\n  'worklet';\n\n  var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var callback = arguments.length > 3 ? arguments[3] : undefined;\n  console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n  return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation) {\n  'worklet';\n\n  var numberOfLoops = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n  return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}\nexport function sequence() {\n  'worklet';\n\n  console.warn('Method `sequence` is deprecated. Please use `withSequence` instead');\n  return withSequence.apply(void 0, arguments);\n}","map":{"version":3,"names":["Easing","isColor","convertToHSVA","toRGBA","NativeReanimated","IN_STYLE_UPDATER","initialUpdaterRun","updater","result","transform","value","handler","undefined","match","prefix","suffix","number","__prefix","__suffix","parseFloat","transformAnimation","animation","toValue","current","startValue","decorateAnimation","isHigherOrder","baseOnStart","onStart","baseOnFrame","onFrame","animationCopy","callback","prefNumberSuffOnStart","timestamp","previousAnimation","val","prefNumberSuffOnFrame","res","tab","colorOnStart","HSVAValue","HSVACurrent","HSVAToValue","forEach","i","index","push","colorOnFrame","finished","defineAnimation","starting","factory","create","_WORKLET","native","cancelAnimation","sharedValue","withTiming","userConfig","config","duration","easing","inOut","quad","Object","keys","key","timing","now","progress","startTime","runtime","newProgress","dist","type","withSpring","damping","mass","stiffness","overshootClamping","restDisplacementThreshold","restSpeedThreshold","spring","lastTimestamp","velocity","deltaTime","Math","min","c","m","k","v0","x0","zeta","sqrt","omega0","omega1","pow","t","sin1","sin","cos1","cos","underDampedEnvelope","exp","underDampedFrag1","underDampedPosition","underDampedVelocity","criticallyDampedEnvelope","criticallyDampedPosition","criticallyDampedVelocity","isOvershooting","isVelocity","abs","isDisplacement","withDecay","deceleration","velocityFactor","Platform","OS","VELOCITY_EPS","SLOPE_FACTOR","decay","startTimestamp","initialVelocity","v","clamp","validateConfig","Array","isArray","length","console","error","withDelay","delayMs","_nextAnimation","nextAnimation","delay","started","withSequence","_animations","animations","map","a","firstAnimation","sequence","currentAnim","animationIndex","nextAnim","Error","withRepeat","numberOfReps","reverse","repeat","reps","repCallback","warn","loop","numberOfLoops","round"],"sources":["C:/Users/sulai/Desktop/fyp/FYP/aut_Veh_num_det/Auto_Veh_front_end/node_modules/react-native-reanimated/lib/reanimated2/animations.js"],"sourcesContent":["/* global _WORKLET */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport { Easing } from './Easing';\nimport { isColor, convertToHSVA, toRGBA } from './Colors';\nimport NativeReanimated from './NativeReanimated';\nimport { Platform } from 'react-native';\nlet IN_STYLE_UPDATER = false;\nexport function initialUpdaterRun(updater) {\n    IN_STYLE_UPDATER = true;\n    const result = updater();\n    IN_STYLE_UPDATER = false;\n    return result;\n}\nexport function transform(value, handler) {\n    'worklet';\n    if (value === undefined) {\n        return undefined;\n    }\n    if (typeof value === 'string') {\n        // toInt\n        // TODO handle color\n        const match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([A-Za-z%]*)/);\n        const prefix = match[1];\n        const suffix = match[3];\n        const number = match[2];\n        handler.__prefix = prefix;\n        handler.__suffix = suffix;\n        return parseFloat(number);\n    }\n    // toString if __prefix is available and number otherwise\n    if (handler.__prefix === undefined) {\n        return value;\n    }\n    return handler.__prefix + value + handler.__suffix;\n}\nexport function transformAnimation(animation) {\n    'worklet';\n    if (!animation) {\n        return;\n    }\n    animation.toValue = transform(animation.toValue, animation);\n    animation.current = transform(animation.current, animation);\n    animation.startValue = transform(animation.startValue, animation);\n}\nexport function decorateAnimation(animation) {\n    'worklet';\n    if (animation.isHigherOrder) {\n        return;\n    }\n    const baseOnStart = animation.onStart;\n    const baseOnFrame = animation.onFrame;\n    const animationCopy = Object.assign({}, animation);\n    delete animationCopy.callback;\n    const prefNumberSuffOnStart = (animation, value, timestamp, previousAnimation) => {\n        const val = transform(value, animation);\n        transformAnimation(animation);\n        if (previousAnimation !== animation)\n            transformAnimation(previousAnimation);\n        baseOnStart(animation, val, timestamp, previousAnimation);\n        transformAnimation(animation);\n        if (previousAnimation !== animation)\n            transformAnimation(previousAnimation);\n    };\n    const prefNumberSuffOnFrame = (animation, timestamp) => {\n        transformAnimation(animation);\n        const res = baseOnFrame(animation, timestamp);\n        transformAnimation(animation);\n        return res;\n    };\n    const tab = ['H', 'S', 'V', 'A'];\n    const colorOnStart = (animation, value, timestamp, previousAnimation) => {\n        let HSVAValue;\n        let HSVACurrent;\n        let HSVAToValue;\n        const res = [];\n        if (isColor(value)) {\n            HSVACurrent = convertToHSVA(animation.current);\n            HSVAValue = convertToHSVA(value);\n            if (animation.toValue) {\n                HSVAToValue = convertToHSVA(animation.toValue);\n            }\n        }\n        tab.forEach((i, index) => {\n            animation[i] = Object.assign({}, animationCopy);\n            animation[i].current = HSVACurrent[index];\n            animation[i].toValue = HSVAToValue ? HSVAToValue[index] : undefined;\n            animation[i].onStart(animation[i], HSVAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n            res.push(animation[i].current);\n        });\n        animation.current = toRGBA(res);\n    };\n    const colorOnFrame = (animation, timestamp) => {\n        const HSVACurrent = convertToHSVA(animation.current);\n        const res = [];\n        let finished = true;\n        tab.forEach((i, index) => {\n            animation[i].current = HSVACurrent[index];\n            finished &= animation[i].onFrame(animation[i], timestamp);\n            res.push(animation[i].current);\n        });\n        animation.current = toRGBA(res);\n        return finished;\n    };\n    animation.onStart = (animation, value, timestamp, previousAnimation) => {\n        if (isColor(value)) {\n            colorOnStart(animation, value, timestamp, previousAnimation);\n            animation.onFrame = colorOnFrame;\n            return;\n        }\n        else if (typeof value === 'string') {\n            prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n            animation.onFrame = prefNumberSuffOnFrame;\n            return;\n        }\n        baseOnStart(animation, value, timestamp, previousAnimation);\n    };\n}\nexport function defineAnimation(starting, factory) {\n    'worklet';\n    if (IN_STYLE_UPDATER) {\n        return starting;\n    }\n    const create = () => {\n        'worklet';\n        const animation = factory();\n        decorateAnimation(animation);\n        return animation;\n    };\n    if (_WORKLET || !NativeReanimated.native) {\n        return create();\n    }\n    return create;\n}\nexport function cancelAnimation(sharedValue) {\n    'worklet';\n    // setting the current value cancels the animation if one is currently running\n    sharedValue.value = sharedValue.value; // eslint-disable-line no-self-assign\n}\nexport function withTiming(toValue, userConfig, callback) {\n    'worklet';\n    return defineAnimation(toValue, () => {\n        'worklet';\n        const config = {\n            duration: 300,\n            easing: Easing.inOut(Easing.quad),\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        function timing(animation, now) {\n            const { toValue, progress, startTime, current } = animation;\n            const runtime = now - startTime;\n            if (runtime >= config.duration) {\n                // reset startTime to avoid reusing finished animation config in `start` method\n                animation.startTime = 0;\n                animation.current = toValue;\n                return true;\n            }\n            const newProgress = config.easing(runtime / config.duration);\n            const dist = ((toValue - current) * (newProgress - progress)) / (1 - progress);\n            animation.current += dist;\n            animation.progress = newProgress;\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            if (previousAnimation &&\n                previousAnimation.type === 'timing' &&\n                previousAnimation.toValue === toValue &&\n                previousAnimation.startTime) {\n                // to maintain continuity of timing animations we check if we are starting\n                // new timing over the old one with the same parameters. If so, we want\n                // to copy animation timeline properties\n                animation.startTime = previousAnimation.startTime;\n                animation.progress = previousAnimation.progress;\n            }\n            else {\n                animation.startTime = now;\n                animation.progress = 0;\n            }\n            animation.current = value;\n        }\n        return {\n            type: 'timing',\n            onFrame: timing,\n            onStart,\n            progress: 0,\n            toValue,\n            current: toValue,\n            callback,\n        };\n    });\n}\nexport function withSpring(toValue, userConfig, callback) {\n    'worklet';\n    return defineAnimation(toValue, () => {\n        'worklet';\n        // TODO: figure out why we can't use spread or Object.assign here\n        // when user config is \"frozen object\" we can't enumerate it (perhaps\n        // something is wrong with the object prototype).\n        const config = {\n            damping: 10,\n            mass: 1,\n            stiffness: 100,\n            overshootClamping: false,\n            restDisplacementThreshold: 0.01,\n            restSpeedThreshold: 2,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        function spring(animation, now) {\n            const { toValue, lastTimestamp, current, velocity } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            animation.lastTimestamp = now;\n            const c = config.damping;\n            const m = config.mass;\n            const k = config.stiffness;\n            const v0 = -velocity;\n            const x0 = toValue - current;\n            const zeta = c / (2 * Math.sqrt(k * m)); // damping ratio\n            const omega0 = Math.sqrt(k / m); // undamped angular frequency of the oscillator (rad/ms)\n            const omega1 = omega0 * Math.sqrt(1 - Math.pow(zeta, 2)); // exponential decay\n            const t = deltaTime / 1000;\n            const sin1 = Math.sin(omega1 * t);\n            const cos1 = Math.cos(omega1 * t);\n            // under damped\n            const underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n            const underDampedFrag1 = underDampedEnvelope *\n                (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n            const underDampedPosition = toValue - underDampedFrag1;\n            // This looks crazy -- it's actually just the derivative of the oscillation function\n            const underDampedVelocity = zeta * omega0 * underDampedFrag1 -\n                underDampedEnvelope *\n                    (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n            // critically damped\n            const criticallyDampedEnvelope = Math.exp(-omega0 * t);\n            const criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n            const criticallyDampedVelocity = criticallyDampedEnvelope *\n                (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n            const isOvershooting = () => {\n                if (config.overshootClamping && config.stiffness !== 0) {\n                    return current < toValue\n                        ? animation.current > toValue\n                        : animation.current < toValue;\n                }\n                else {\n                    return false;\n                }\n            };\n            const isVelocity = Math.abs(velocity) < config.restSpeedThreshold;\n            const isDisplacement = config.stiffness === 0 ||\n                Math.abs(toValue - current) < config.restDisplacementThreshold;\n            if (zeta < 1) {\n                animation.current = underDampedPosition;\n                animation.velocity = underDampedVelocity;\n            }\n            else {\n                animation.current = criticallyDampedPosition;\n                animation.velocity = criticallyDampedVelocity;\n            }\n            if (isOvershooting() || (isVelocity && isDisplacement)) {\n                if (config.stiffness !== 0) {\n                    animation.velocity = 0;\n                    animation.current = toValue;\n                }\n                return true;\n            }\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            animation.current = value;\n            if (previousAnimation) {\n                animation.velocity =\n                    previousAnimation.velocity || animation.velocity || 0;\n                animation.lastTimestamp = previousAnimation.lastTimestamp || now;\n            }\n            else {\n                animation.lastTimestamp = now;\n            }\n        }\n        return {\n            onFrame: spring,\n            onStart,\n            toValue,\n            velocity: config.velocity || 0,\n            current: toValue,\n            callback,\n        };\n    });\n}\nexport function withDecay(userConfig, callback) {\n    'worklet';\n    return defineAnimation(0, () => {\n        'worklet';\n        const config = {\n            deceleration: 0.998,\n            velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        const VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n        const SLOPE_FACTOR = 0.1;\n        function decay(animation, now) {\n            const { lastTimestamp, startTimestamp, initialVelocity, current, velocity, } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            const v = velocity *\n                Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n            animation.current =\n                current + (v * config.velocityFactor * deltaTime) / 1000; // /1000 because time is in ms not in s\n            animation.velocity = v;\n            animation.lastTimestamp = now;\n            if (config.clamp) {\n                if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n                    animation.current = config.clamp[0];\n                    return true;\n                }\n                else if (initialVelocity > 0 &&\n                    animation.current >= config.clamp[1]) {\n                    animation.current = config.clamp[1];\n                    return true;\n                }\n            }\n            if (Math.abs(v) < VELOCITY_EPS) {\n                return true;\n            }\n        }\n        function validateConfig() {\n            if (config.clamp) {\n                if (Array.isArray(config.clamp)) {\n                    if (config.clamp.length !== 2) {\n                        console.error(`clamp array must contain 2 items but is given ${config.clamp.length}`);\n                    }\n                }\n                else {\n                    console.error(`config.clamp must be an array but is ${typeof config.clamp}`);\n                }\n            }\n            if (config.velocityFactor <= 0) {\n                console.error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);\n            }\n        }\n        function onStart(animation, value, now) {\n            animation.current = value;\n            animation.lastTimestamp = now;\n            animation.startTimestamp = now;\n            animation.initialVelocity = config.velocity;\n            validateConfig();\n        }\n        return {\n            onFrame: decay,\n            onStart,\n            velocity: config.velocity || 0,\n            callback,\n        };\n    });\n}\nexport function withDelay(delayMs, _nextAnimation) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function delay(animation, now) {\n            const { startTime, started, previousAnimation } = animation;\n            if (now - startTime > delayMs) {\n                if (!started) {\n                    nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n                    animation.previousAnimation = null;\n                    animation.started = true;\n                }\n                const finished = nextAnimation.onFrame(nextAnimation, now);\n                animation.current = nextAnimation.current;\n                return finished;\n            }\n            else if (previousAnimation) {\n                const finished = previousAnimation.onFrame(previousAnimation, now);\n                animation.current = previousAnimation.current;\n                if (finished) {\n                    animation.previousAnimation = null;\n                }\n            }\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startTime = now;\n            animation.started = false;\n            animation.current = value;\n            animation.previousAnimation = previousAnimation;\n        }\n        const callback = (finished) => {\n            if (nextAnimation.callback) {\n                nextAnimation.callback(finished);\n            }\n        };\n        return {\n            isHigherOrder: true,\n            onFrame: delay,\n            onStart,\n            current: nextAnimation.current,\n            callback,\n        };\n    });\n}\nexport function withSequence(..._animations) {\n    'worklet';\n    return defineAnimation(_animations[0], () => {\n        'worklet';\n        const animations = _animations.map((a) => {\n            const result = typeof a === 'function' ? a() : a;\n            result.finished = false;\n            return result;\n        });\n        const firstAnimation = animations[0];\n        const callback = (finished) => {\n            if (finished) {\n                // we want to call the callback after every single animation\n                // not after all of them\n                return;\n            }\n            // this is going to be called only if sequence has been cancelled\n            animations.forEach((animation) => {\n                if (typeof animation.callback === 'function' && !animation.finished) {\n                    animation.callback(finished);\n                }\n            });\n        };\n        function sequence(animation, now) {\n            const currentAnim = animations[animation.animationIndex];\n            const finished = currentAnim.onFrame(currentAnim, now);\n            animation.current = currentAnim.current;\n            if (finished) {\n                // we want to call the callback after every single animation\n                if (currentAnim.callback) {\n                    currentAnim.callback(true /* finished */);\n                }\n                currentAnim.finished = true;\n                animation.animationIndex += 1;\n                if (animation.animationIndex < animations.length) {\n                    const nextAnim = animations[animation.animationIndex];\n                    nextAnim.onStart(nextAnim, currentAnim.current, now, currentAnim);\n                    return false;\n                }\n                return true;\n            }\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            if (animations.length === 1) {\n                throw Error('withSequence() animation require more than one animation as argument');\n            }\n            animation.animationIndex = 0;\n            if (previousAnimation === undefined) {\n                previousAnimation = animations[animations.length - 1];\n            }\n            firstAnimation.onStart(firstAnimation, value, now, previousAnimation);\n        }\n        return {\n            isHigherOrder: true,\n            onFrame: sequence,\n            onStart,\n            animationIndex: 0,\n            current: firstAnimation.current,\n            callback,\n        };\n    });\n}\nexport function withRepeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function repeat(animation, now) {\n            const finished = nextAnimation.onFrame(nextAnimation, now);\n            animation.current = nextAnimation.current;\n            if (finished) {\n                animation.reps += 1;\n                // call inner animation's callback on every repetition\n                // as the second argument the animation's current value is passed\n                if (nextAnimation.callback) {\n                    nextAnimation.callback(true /* finished */, animation.current);\n                }\n                if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n                    return true;\n                }\n                const startValue = reverse\n                    ? nextAnimation.current\n                    : animation.startValue;\n                if (reverse) {\n                    nextAnimation.toValue = animation.startValue;\n                    animation.startValue = startValue;\n                }\n                nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n                return false;\n            }\n            return false;\n        }\n        const repCallback = (finished) => {\n            if (callback) {\n                callback(finished);\n            }\n            // when cancelled call inner animation's callback\n            if (!finished && nextAnimation.callback) {\n                nextAnimation.callback(false /* finished */);\n            }\n        };\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startValue = value;\n            animation.reps = 0;\n            nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n        return {\n            isHigherOrder: true,\n            onFrame: repeat,\n            onStart,\n            reps: 0,\n            current: nextAnimation.current,\n            callback: repCallback,\n        };\n    });\n}\n/* Deprecated section, kept for backward compatibility. Will be removed soon */\nexport function delay(delayMs, _nextAnimation) {\n    'worklet';\n    console.warn('Method `delay` is deprecated. Please use `withDelay` instead');\n    return withDelay(delayMs, _nextAnimation);\n}\nexport function repeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n    return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation, numberOfLoops = 1) {\n    'worklet';\n    console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n    return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}\nexport function sequence(..._animations) {\n    'worklet';\n    console.warn('Method `sequence` is deprecated. Please use `withSequence` instead');\n    return withSequence(..._animations);\n}\n/* Deprecated section end */\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}